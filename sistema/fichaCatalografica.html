<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="ficha/ficha.css"/>
    <script src="ficha/ficha.js"></script>
    <script src="ficha/teste.js"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <title>Ficha Catalográfica</title>
</head>
<body>
    <div class="container">
        <header>
            <div class="cabecalho">
                <div class="imagem">
                    <a href="https://ifrs.edu.br/" target="_blank">
                        <img alt="Logo-IFRS" src="ficha/Logo-IFRS-cores-sem-fundo-Vertical.png" />
                    </a>
                </div>
                <div class="link">
                    <a href="https://ifrs.edu.br/" target="_blank">Instituto Federal de Educação, Ciência e Tecnologia do Rio Grande do Sul</a>
                    <a href="" target="_blank">Sistema de Bibliotecas do IFRS - SIBIFRS</a>
                </div>
            </div>
        </header>
        <main>
            <div class="formulario">
                <h1>Dados para Ficha Catalográfica</h1>
                <form onsubmit="return validarSelecoes();" onsubmit="event.preventDefault(); gerarPDF();">                    
                    <div class="autor">
                        <h2>Autor</h2>
                        <div class="nome_sobrenome">
                            <div class="nome">
                                <input 
                                    id="inomeAutor" 
                                    type="text" 
                                    name="nomeAutor"
                                    pattern="[A-Za-zÀ-ÿ\s']+" 
                                    title="Informe o nome completo sem o último sobrenome do autor." 
                                    placeholder="Nome completo sem o último sobrenome:"
                                    required
                                    oninput="aplicarTitleize('inomeAutor')"
                                    oninvalid="setCustomValidity('Preencha este campo! Apenas letras e espaços são permitidos.')"
                                    oninput="setCustomValidity('')"
                                    autocomplete="off"
                                >
                            </div>
                            <div class="sobrenome">
                                <input
                                    id="isobrenomeAutor" 
                                    type="text" 
                                    name="sobrenomeAutor"
                                    pattern="[A-Za-zÀ-ÿ\s']+" 
                                    title="Informe o último sobrenome do autor."
                                    placeholder="Último sobrenome:"
                                    required
                                    oninput="aplicarTitleize('isobrenomeAutor')"
                                    oninvalid="setCustomValidity('Apenas letras e espaços são permitidos.')"
                                    oninput="setCustomValidity('')"
                                    autocomplete="off"
                                >
                            </div>
                        </div>
                    </div>
                    <div class="orientador">
                        <h2>Orientador</h2>
                        <div class="nome_sobrenome">
                            <div class="nome">
                                <input 
                                    id="inomeOrientador" 
                                    type="text" 
                                    name="nomeOrientador"
                                    pattern="[A-Za-zÀ-ÿ\s]+" 
                                    title="Informe o nome completo sem o último sobrenome do orientador." 
                                    placeholder="Nome completo sem o último sobrenome:"
                                    required
                                    oninput="aplicarTitleize('inomeOrientador')"
                                    oninvalid="setCustomValidity('Apenas letras e espaços são permitidos.')"
                                    oninput="setCustomValidity('')"
                                    autocomplete="off"
                                >
                            </div>
                            <div class="sobrenome">
                                <input 
                                    id="isobrenomeOrientador" 
                                    type="text" 
                                    name="sobrenomeOrientador"
                                    pattern="[A-Za-zÀ-ÿ\s]+" 
                                    title="Informe o último sobrenome do orientador."
                                    placeholder="Último sobrenome:"
                                    required
                                    oninput="aplicarTitleize('isobrenomeOrientador')"
                                    oninvalid="setCustomValidity('Apenas letras e espaços são permitidos.')"
                                    oninput="setCustomValidity('')"
                                    autocomplete="off"
                                >
                            </div>
                        <div class="checkbox-wrapper-34">
                            <input id="iorientadora" class="tgl tgl-ios" type="checkbox" name="orientadora" title="Orientadora">
                            <label class="tgl-btn" for="iorientadora"></label>
                        </div>
                        <label for="iorientadora">Orientadora</label>
                    </div>
                                                
                    <div class="coorientador">
                        <div class="nomeMaisMenos">
                            <h2>Coorientador</h2>
                            <button type="button" id="ibotaoAdicionarCoorientador" onclick="adicionarCoorientador()">
                                <img src="sinalMais.png">
                            </button>
                            <button type="button" id="ibotaoRemoverCoorientador" style="display: none;" onclick="removerCoorientador()">
                                <img src="sinalMenos.png" >
                            </button>
                        </div>
                        <div id="divCoorientador">
                            <div class="nome_sobrenome">
                                <div class="nome">
                                    <input
                                        id="inomeCoorientador"
                                        type="text"
                                        name="nomeCoorientador1"
                                        pattern="[A-Za-zÀ-ÿ\s]+"
                                        title="Informe o nome completo sem o último sobrenome do coorientador."
                                        placeholder="Nome completo sem o último sobrenome:"
                                        required
                                        oninput="aplicarTitleizeElement(this)"
                                        oninvalid="setCustomValidity('Apenas letras e espaços são permitidos.')"
                                        oninput="setCustomValidity('')"
                                        autocomplete="off"
                                    >
                                </div>
                                <div class="sobrenome">
                                    <input
                                        id="isobrenomeCoorientador"
                                        type="text"
                                        name="sobrenomeCoorientador1"
                                        pattern="[A-Za-zÀ-ÿ\s]+"
                                        title="Informe o último sobrenome do coorientador."
                                        placeholder="Último sobrenome:"
                                        required
                                        oninput="aplicarTitleizeElement(this)"
                                        autocomplete="off"
                                    >
                                </div>
                                <div class="checkbox-wrapper-34">
                                    <input id="icoCoorientadora" class="tgl tgl-ios" type="checkbox" name="coorientadora" onclick="toggleCoorientador()" title="Coorientadora">
                                    <label class="tgl-btn" for="icoCoorientadora"></label>
                                </div>
                                <label for="icoCoorientadora">Coorientadora</label>
                            </div>
                        </div>
                    </div>                        
                    <div class="titulo">
                        <h2>Título</h2>
                        <input 
                        id="itituloTrabalho" 
                        type="text" 
                        name="tituloTrabalho"
                        placeholder="Título do Trabalho"
                        title="Informe o título do trabalho."
                        required
                        autocomplete="off"
                        >
                    </div>
                    <div class="ano_assunto">
                        <div class="ano">
                            <h2>Ano</h2>
                            <input
                                id="iano"
                                type="text" 
                                name="ano"
                                pattern="\d+" 
                                title="Informe o ano de cadastro da ficha."
                                placeholder="Ex:2024"
                                required
                                oninput="validarAno()"
                                oninvalid="setCustomValidity('Apenas números são permitidos.')"
                                oninput="setCustomValidity('')"
                                autocomplete="off"
                            >
                        </div>
                        <div class="numeroFolhas">
                            <h2>N° de Páginas</h2>
                            <input 
                            id="inumeroFolhas" 
                            type="text" 
                            name="numeroFolhas"
                            pattern="\d+" 
                            title="Informe o número de folhas."
                            placeholder="Ex:123"
                            required
                            oninvalid="setCustomValidity('Apenas números são permitidos.')"
                            oninput="setCustomValidity('')"
                            autocomplete="off"
                            >
                        </div>
                        <div class="assunto">
                            <div class="nomeMaisMenos">
                            <h2>Assunto(s)</h2>
                            <button type="button" id="ibotaoAdicionarAssunto" onclick="adicionarAssunto()">
                                <img src="sinalMais.png">
                            </button>
                            <button type="button" id="ibotaoRemoverAssunto" style="display: none;" onclick="removerAssunto()">
                                <img src="sinalMenos.png">
                            </button>
                            </div>
                            <div id="divAssuntos">
                                <input
                                    id="iassuntos"
                                    type="text"
                                    name="assunto1"
                                    placeholder="Assunto 1"
                                    title="Informe o assunto."
                                    required
                                    autocomplete="off"
                                >
                            </div>
                        </div>
                    </div>
                    <div class="modalidades">
                        <h2>Tipo do Trabalho</h2>
                        <div class="opcaoModalidade">
                            <input type="radio" id="graduacao" name="modalidade" value="Graduacao" required onclick="mostrarSelect()">
                            <label for="graduacao">Graduação</label>
                    
                            <input type="radio" id="posGraduacao" name="modalidade" value="PosGraduacao" required onclick="mostrarSelect()">
                            <label for="posGraduacao">Pós-Graduação</label>
                    
                            <input type="radio" id="especializacao" name="modalidade" value="Especializacao" required onclick="mostrarSelect()">
                            <label for="especializacao">Especialização</label>
                        </div>
                    </div>
                    <div id="selectGraduacao" style="display:none;">
                        <label for="cursoGraduacao">Escolha o curso de graduação:</label>
                        <select id="cursoGraduacao" name="cursoGraduacao" onchange="atualizarCampus();">
                            <option value="">(Selecione)</option>
                            <optgroup label="Campus Alvorada"></optgroup>
                            <option value="Licenciatura em Pedagogia">Licenciatura em Pedagogia</option>
                            <option value="Tecnologia em Produção Multimídia">Tecnologia em Produção Multimídia</option>
                            <optgroup label="Campus Bento Gonçalves">
                                <option value="Bacharelado em Agronomia">Bacharelado em Agronomia</option>
                                <option value="Licenciatura em Física">Licenciatura em Física</option>
                                <option value="Licenciatura em Letras - Língua Portuguesa">Licenciatura em Letras - Língua Portuguesa</option>
                                <option value="Licenciatura em Matemática">Licenciatura em Matemática</option>
                                <option value="Licenciatura em Pedagogia">Licenciatura em Pedagogia</option>
                                <option value="Tecnologia em Alimentos">Tecnologia em Alimentos</option>
                                <option value="Tecnologia em Análise e Desenvolvimento de Sistemas">Tecnologia em Análise e Desenvolvimento de Sistemas</option>
                                <option value="Tecnologia em Horticultura">Tecnologia em Horticultura</option>
                                <option value="Tecnologia em Logística">Tecnologia em Logística</option>
                                <option value="Tecnologia em Viticultura e Enologia">Tecnologia em Viticultura e Enologia</option>
                            </optgroup>
                            <optgroup label="Campus Canoas">
                                <option value="Bacharelado em Engenharia Eletrônica">Bacharelado em Engenharia Eletrônica</option>
                                <option value="Licenciatura em Matemática">Licenciatura em Matemática</option>
                                <option value="Tecnologia em Análise e Desenvolvimento de Sistemas">Tecnologia em Análise e Desenvolvimento de Sistemas</option>
                                <option value="Tecnologia em Logística">Tecnologia em Logística</option>
                            </optgroup>
                            <optgroup label="Campus Caxias do Sul">
                                <option value="Bacharelado em Engenharia de Produção">Bacharelado em Engenharia de Produção</option>
                                <option value="Bacharelado em Engenharia Metalúrgica">Bacharelado em Engenharia Metalúrgica</option>
                                <option value="Licenciatura em Matemática">Licenciatura em Matemática</option>
                                <option value="Tecnologia em Processos Gerenciais">Tecnologia em Processos Gerenciais</option>
                                <option value="Tecnologia em Processos Metalúrgicos">Tecnologia em Processos Metalúrgicos</option>
                            </optgroup>
                            <optgroup label="Campus Erechim">
                                <option value="Bacharelado em Administração">Bacharelado em Administração</option>
                                <option value="Bacharelado em Engenharia de Alimentos">Bacharelado em Engenharia de Alimentos</option>
                                <option value="Bacharelado em Engenharia Mecânica">Bacharelado em Engenharia Mecânica</option>
                                <option value="Tecnologia em Análise e Desenvolvimento de Sistemas">Tecnologia em Análise e Desenvolvimento de Sistemas</option>
                                <option value="Tecnologia em Design de Moda">Tecnologia em Design de Moda</option>
                                <option value="Tecnologia em Marketing">Tecnologia em Marketing</option>
                            </optgroup>
                            <optgroup label="Campus Farroupilha">
                                <option value="Bacharelado em Engenharia de Controle e Automação">Bacharelado em Engenharia de Controle e Automação</option>
                                <option value="Bacharelado em Engenharia Mecânica">Bacharelado em Engenharia Mecânica</option>
                                <option value="Licenciatura em Pedagogia">Licenciatura em Pedagogia</option>
                                <option value="Tecnologia em Análise e Desenvolvimento de Sistemas">Tecnologia em Análise e Desenvolvimento de Sistemas</option>
                                <option value="Tecnologia em Fabricação Mecânica">Tecnologia em Fabricação Mecânica</option>
                                <option value="Tecnologia em Processos Gerenciais">Tecnologia em Processos Gerenciais</option>
                            </optgroup>
                            <optgroup label="Campus Feliz">
                                <option value="Tecnologia em Análise e Desenvolvimento de Sistemas">Tecnologia em Análise e Desenvolvimento de Sistemas</option>
                                <option value="Tecnologia em Processos Gerenciais">Tecnologia em Processos Gerenciais</option>
                                <option value="Licenciatura em Letras - Português e Inglês">Licenciatura em Letras - Português e Inglês</option>
                                <option value="Licenciatura em Química">Licenciatura em Química</option>
                                <option value="Bacharelado em Engenharia Química">Bacharelado em Engenharia Química</option>
                            </optgroup>
                            <optgroup label="Campus Ibirubá"></optgroup>
                                <option label="Bacharel em Agronomia">Bacharel em Agronomia</option>
                                <option label="Bacharel em Ciência da Computação">Bacharel em Ciência da Computação</option>
                                <option label="Bacharel em Engenharia Mecânica">Bacharel em Engenharia Mecânica</option>
                                <option label="Licenciatura em Matemática">Licenciatura em Matemática</option>
                            <optgroup label="Campus Osório">
                                <option label="Licenciatura em Letras - Português e Inglês">Licenciatura em Letras - Português e Inglês</option>
                                <option label="Licenciatura em Matemática">Licenciatura em Matemática</option>
                                <option label="Tecnologia em Análise e Desenvolvimento de Sistemas>">Tecnologia em Análise e Desenvolvimento de Sistemas</option>
                                <option value="Tecnologia em Processos Gerenciais">Tecnologia em Processos Gerenciais</option>
                            </optgroup>
                            <optgroup label="Campus Porto Alegre">
                                <option value="Licenciatura em Ciências da Natureza: Biologia e Química">Licenciatura em Ciências da Natureza: Biologia e Química</option>
                                <option value="Tecnologia em Gestão Ambiental">Tecnologia em Gestão Ambiental</option>
                                <option value="Tecnologia em Processos Gerenciais">Tecnologia em Processos Gerenciais</option>
                                <option value="Tecnologia em Sistemas para Internet">Tecnologia em Sistemas para Internet</option>
                            </optgroup>
                            <optgroup label="Campus Restinga (Porto Alegre)">
                                <option value="Licenciatura em Letras - Português e Espanhol">Licenciatura em Letras - Português e Espanhol</option>
                                <option value="Tecnologia em Agroecologia">Tecnologia em Agroecologia</option>
                                <option value="Tecnologia em Análise e Desenvolvimento de Sistemas">Tecnologia em Análise e Desenvolvimento de Sistemas</option>
                                <option value="Tecnologia em Eletrônica Industrial">Tecnologia em Eletrônica Industrial</option>
                                <option value="Tecnologia em Gestão Desportiva e de Lazer">Tecnologia em Gestão Desportiva e de Lazer</option>
                                <option value="Tecnologia em Processos Gerenciais">Tecnologia em Processos Gerenciais</option>
                            </optgroup>
                            <optgroup label="Campus Rio Grande">
                                <option value="Bacharelado em Arquitetura e Urbanismo">Bacharelado em Arquitetura e Urbanismo</option>
                                <option value="Bacharelado em Engenharia Mecânica">Bacharelado em Engenharia Mecânica</option>
                                <option value="Tecnologia em Análise e Desenvolvimento de Sistemas">Tecnologia em Análise e Desenvolvimento de Sistemas</option>
                                <option value="Tecnologia em Construção de Edifícios">Tecnologia em Construção de Edifícios</option>
                                <option value="Formação Pedagógica para Graduados Não Licenciados">Formação Pedagógica para Graduados Não Licenciados</option>
                            </optgroup>
                            <optgroup label="Campus Rolante">
                                <option value="Tecnologia em Processos Gerenciais">Tecnologia em Processos Gerenciais</option>
                                <option value="Tecnologia em Análise e Desenvolvimento de Sistemas">Tecnologia em Análise e Desenvolvimento de Sistemas</option>
                            </optgroup>
                            <optgroup label="Campus Sertão">
                                <option value="Bacharelado em Agronomia">Bacharelado em Agronomia</option>
                                <option value="Bacharelado em Zootecnia">Bacharelado em Zootecnia</option>
                                <option value="Licenciatura em Ciências Biológicas">Licenciatura em Ciências Biológicas</option>
                                <option value="Tecnologia em Agronegócio">Tecnologia em Agronegócio</option>
                                <option value="Tecnologia em Análise e Desenvolvimento de Sistemas">Tecnologia em Análise e Desenvolvimento de Sistemas</option>
                                <option value="Tecnologia em Gestão Ambiental">Tecnologia em Gestão Ambiental</option>
                                <option value="Formação Pedagógica para Graduados Não Licenciados">Formação Pedagógica para Graduados Não Licenciados</option>
                            </optgroup>
                                <optgroup label="Campus Vacaria">
                                    <option value="Bacharelado em Agronomia">Bacharelado em Agronomia</option>
                                    <option value="Bacharelado em Sistemas de Informação">Bacharelado em Sistemas de Informação</option>
                                    <option value="Licenciatura em Ciências Biológicas">Licenciatura em Ciências Biológicas</option>
                                    <option value="Licenciatura em Pedagogia">Licenciatura em Pedagogia</option>
                                    <option value="Tecnologia em Processos Gerenciais">Tecnologia em Processos Gerenciais</option>
                                </optgroup>
                            <optgroup label="Campus Veranópolis">
                                <option value="Tecnologia em Análise e Desenvolvimento de Sistemas">Tecnologia em Análise e Desenvolvimento de Sistemas</option>
                                <option value="Tecnologia em Processos Gerenciais">Tecnologia em Processos Gerenciais</option>
                            </optgroup>
                            <optgroup label="Campus Viamão">
                                <option value="Tecnologia em Gestão Ambiental">Especialização em Agroecologia</option>
                                <option value="Tecnologia em Processos Gerenciais">Tecnologia em Processos Gerenciais</option>
                            </optgroup>
                        </select>
                    </div>
                    
                    <div id="selectPosGraduacao" style="display:none;">
                        <label for="cursoPosGraduacao">Escolha o curso de pós-graduação:</label>
                        <select id="cursoPosGraduacao" name="cursoPosGraduacao" onchange="atualizarCampus();">
                            <option value="">(Selecione)</option>
                            <optgroup label="Campus Alvorada"></optgroup>
                            <optgroup label="Campus Bento Gonçalves">
                                <option value="Mestrado Profissional em Viticultura e Enologia">Mestrado Profissional em Viticultura e Enologia</option>
                            </optgroup>
                            <optgroup label="Campus Canoas">
                                <option value="Mestrado Profissional em Matemática em Rede Nacional  (PROFMAT)">Mestrado Profissional em Matemática em Rede Nacional  (PROFMAT)</option>
                            </optgroup>
                            <optgroup label="Campus Caxias do Sul">
                                <option value="Mestrado Profissional em Tecnologia e Engenharia de Materiais">Mestrado Profissional em Tecnologia e Engenharia de Materiais</option>                                </option>
                            </optgroup>
                            <optgroup label="Campus Erechim"></optgroup>
                            <optgroup label="Campus Farroupilha">
                                <option value="Mestrado em Educação Básica">Mestrado em Educação Básica</option>
                                <option value="Mestrado Profissional em Tecnologia e Engenharia dos Materiais">Mestrado Profissional em Tecnologia e Engenharia dos Materiais</option>
                            </optgroup>
                            <optgroup label="Campus Feliz">
                                <option value="Mestrado Profissional em Tecnologia e Engenharia dos Materiais">Mestrado Profissional em Tecnologia e Engenharia dos Materiais</option>
                            </optgroup>
                            <optgroup label="Campus Ibirubá"></optgroup>
                            <optgroup label="Campus Osório"></optgroup>
                            <optgroup label="Campus Porto Alegre">
                                <option value="Mestrado Profissional em Informática na Educação">Mestrado Profissional em Informática na Educação</option>
                                <option value="Mestrado Profissional em Educação Profissional e Tecnológica">Mestrado Profissional em Educação Profissional e Tecnológica</option>
                                <option value="Mestrado Profissional em Propriedade Intelectual e Transferência de Tecnologia para a Inovação">Mestrado Profissional em Propriedade Intelectual e Transferência de Tecnologia para a Inovação</option>
                            </optgroup>
                            <optgroup label="Campus Restinga (Porto Alegre)"></optgroup>
                            <optgroup label="Campus Rio Grande"></optgroup>
                            <optgroup label="Campus Rolante"></optgroup>
                            <optgroup label="Campus Sertão"></optgroup>
                            <optgroup label="Campus Vacaria"></optgroup>
                            <optgroup label="Campus Veranópolis"></optgroup>
                            <optgroup label="Campus Viamão"></optgroup>
                        </select>
                    </div>
                    
                    <div id="selectEspecializacao" style="display:none;">
                        <label for="cursoEspecializacao">Escolha o curso de especialização:</label>
                        <select id="cursoEspecializacao" name="cursoEspecializacao" onchange="atualizarCampus();">
                            <option value="">(Selecione)</option>
                            <optgroup label="Campus Alvorada"></optgroup>
                            <option value="Especialização em Saúde Coletiva">Especialização em Saúde Coletiva</option>
                            <optgroup label="Campus Bento Gonçalves">
                                <option value="Especialização em Ensino de Matemática para a Educação Básica">Especialização em Ensino de Matemática para a Educação Básica</option>
                                <option value="Especialização em Viticultura">Especialização em Viticultura</option>
                            </optgroup>
                            <optgroup label="Campus Canoas">
                                <option value="Especialização em Gestão de Projetos e Inovação">Especialização em Gestão de Projetos e Inovação</option>
                                <option value="Especialização em Linguagens Contemporâneas e Ensino">Especialização em Linguagens Contemporâneas e Ensino</option>
                            </optgroup>
                            <optgroup label="Campus Caxias do Sul">
                                <option value="Especialização na Docência em Educação Básica e Profissional">Especialização na Docência em Educação Básica e Profissional</option>                                </option>
                            </optgroup>
                            <optgroup label="Campus Erechim">
                                <option value="Especialização em Gestão Estratégica e Inteligência de Negócios">Especialização em Gestão Estratégica e Inteligência de Negócios</option>
                                <option value="Especialização em Modelagem Criativa com Ênfase em Sustentabilidade">Especialização em Modelagem Criativa com Ênfase em Sustentabilidade</option>
                            </optgroup>
                            <optgroup label="Campus Farroupilha">
                                <option value="Especialização em Educação: Reflexões e Práticas para a Educação Básica">Especialização em Educação: Reflexões e Práticas para a Educação Básica</option>
                                <option value="Especialização em Inovação e Gestão">Especialização em Inovação e Gestão</option>
                            </optgroup>
                            <optgroup label="Campus Feliz">
                                <option value="Especialização - MBA em Gestão Empresarial">Especialização - MBA em Gestão Empresarial</option>
                                <option value="Especialização em Gestão Escolar">Especialização em Gestão Escolar</option>
                            </optgroup>
                            <optgroup label="Campus Ibirubá">
                                <option label="Especialização em Ensino, Linguagens e Suas Tecnologias">Especialização em Ensino, Linguagens e Suas Tecnologias</option>
                            </optgroup>
                            <optgroup label="Campus Osório">
                                <option label="Especialização em Educação Básica e Profissional">Especialização em Educação Básica e Profissional</option>
                            </optgroup>
                            <optgroup label="Campus Porto Alegre">
                                <option value="Especialização em Gestão Empresarial">Especialização em Gestão Empresarial</option>
                            </optgroup>
                            <optgroup label="Campus Restinga (Porto Alegre)">
                                <option value="Especialização em Manufatura Avançada (Indústria 4.0)">Especialização em Manufatura Avançada (Indústria 4.0)</option>
                                <option value="Especialização em Práticas Assertivas da Educação Profissional Integrada à Educação de Jovens e Adultos">Especialização em Práticas Assertivas da Educação Profissional Integrada à Educação de Jovens e Adultos</option>
                            </optgroup>
                            <optgroup label="Campus Rio Grande"></optgroup>
                            <optgroup label="Campus Rolante"></optgroup>
                            <optgroup label="Campus Sertão">
                                <option value="Especialização em Desenvolvimento e Inovação">Especialização em Desenvolvimento e Inovação</option>
                                <option value="Especialização em Docência da Educação Profissional e Tecnológica">Especialização em Docência da Educação Profissional e Tecnológica</option>
                                <option value="Especialização em Sistemas de Produção Vegetal">Especialização em Sistemas de Produção Vegetal</option>
                                <option value="Especialização em Teorias e Metodologias da Educação">Especialização em Teorias e Metodologias da Educação</option>
                            </optgroup>
                            <optgroup label="Campus Vacaria">
                                <option value="Especialização em Docência na Educação Básica">Especialização em Docência na Educação Básica</option>
                            </optgroup>    
                            <optgroup label="Campus Veranópolis"></optgroup>
                            <optgroup label="Campus Viamão">
                                <option value="Especialização em Agroecologia">Especialização em Agroecologia</option>
                            </optgroup>
                        </select>
                    </div>
                    <input type="hidden" id="campus" name="campus">                 
                    <div class="botoes">
                        <input id="ienviar" type="submit" value="Enviar">
                        <input id="ilimpar" type="reset" value="Limpar">
                    </div>
                </form>
            </div>
        </main>
    </div>

    <script>
        function gerarPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
        
            // Captura de dados do formulário
            const tituloTrabalho = document.getElementById('itituloTrabalho').value;
            const numeroFolhas = parseInt(document.getElementById('inumeroFolhas').value);
            const nomeAutor = document.getElementById('inomeAutor').value;
            const sobrenomeAutor = document.getElementById('isobrenomeAutor').value;
            const nomeOrientador = document.getElementById('inomeOrientador').value;
            const sobrenomeOrientador = document.getElementById('isobrenomeOrientador').value;
            const ano = parseInt(document.getElementById('iano').value);
            const modalidade = document.querySelector('input[name="modalidade"]:checked').value.toLowerCase();
            const cursoSelect = document.querySelector(`select[name="${modalidade === 'graduacao' ? 'cursoGraduacao' : modalidade === 'posgraduacao' ? 'cursoPosGraduacao' : 'cursoEspecializacao'}"]`);
            const curso = cursoSelect.value;
            const campus = cursoSelect.options[cursoSelect.selectedIndex].parentNode.label;
            let cidade = '';
            switch (campus) {
                case 'Campus Alvorada':
                    cidade = 'Alvorada';
                    break;
                case 'Campus Bento Gonçalves':
                    cidade = 'Bento Gonçalves';
                    break;
                case 'Campus Canoas':
                    cidade = 'Canoas';
                    break;
                case 'Campus Caxias do Sul':
                    cidade = 'Caxias do Sul';
                    break;
                case 'Campus Erechim':
                    cidade = 'Erechim';
                    break;
                case 'Campus Farroupilha':
                    cidade = 'Farroupilha';
                    break;
                case 'Campus Feliz':
                    cidade = 'Feliz';
                    break;
                case 'Campus Ibirubá':
                    cidade = 'Ibirubá';
                    break;
                case 'Campus Porto Alegre':
                    cidade = 'Porto Alegre';
                    break; // Valor padrão caso o campus não seja identificado
                case 'Campus Restinga':
                    cidade = 'Porto Alegre';
                    break;
                case 'Campus Rio Grande':
                    cidade = 'Rio Grande';
                    break;
                case 'Campus Rolante':
                    cidade = 'Rolante';
                    break;
                case 'Campus Sertão':
                    cidade = 'Sertão';
                    break;
                case 'Campus Vacaria':
                    cidade = 'Vacaria';
                    break;
                case 'Campus Veranópolis':
                    cidade = 'Veranópolis';
                    break;
                case 'Campus Viamão':
                    cidade = 'Viamão';
                    break; 
                default: "Ósorio";
            }
        
            // Captura dos coorientadores e checagem do checkbox para "coorientadora"
            const coorientadores = [];
            document.querySelectorAll('.coorientador').forEach(coorientador => {
                const nome = coorientador.querySelector('.nomeCoorientador').value;
                const sobrenome = coorientador.querySelector('.sobrenomeCoorientador').value;
                const isCoorientadora = coorientador.querySelector('.checkboxCoorientadora').checked; // Verifica o checkbox
                if (nome && sobrenome) {
                    coorientadores.push({ nome, sobrenome, isCoorientadora });
                }
            });
        
            // Texto para exibição de coorientadores no PDF
            // Texto para exibição de coorientadores no PDF
            let textoCoorientadores = "";
            if (coorientadores.length > 0) {
                const primeiroCoorientador = coorientadores[0];
                const titulo = primeiroCoorientador.isCoorientadora ? 'Coorientadora' : 'Coorientador';
                textoCoorientadores = `${titulo}: ${primeiroCoorientador.nome} ${primeiroCoorientador.sobrenome}`;
                coorientadores.slice(1).forEach(coorientador => {
                    textoCoorientadores += `, ${coorientador.nome} ${coorientador.sobrenome}`;
                });
            }
        
            // Captura de assuntos (múltiplos)
            const assuntos = [];
            document.querySelectorAll('.assunto').forEach(assunto => {
                if (assunto.value) {
                    assuntos.push(assunto.value);
                }
            });
        
            // Ajuste da modalidade
            let modalidadeExibicao = 'Graduação';
            if (modalidade === 'posgraduacao') {
                modalidadeExibicao = 'Pós-Graduação';
            } else if (modalidade === 'especializacao') {
                modalidadeExibicao = 'Especialização';
            }
        
            let tipoOrientador = 'Orientador:';
            let checkbox = document.getElementById('iorientadora');
            if (checkbox.checked) {
                tipoOrientador = 'Orientadora:';
            }
        
            // Desenhar o retângulo e adicionar texto
            const larguraRetangulo = 120;
            const alturaRetangulo = 75;
            const larguraPagina = doc.internal.pageSize.getWidth();
            const alturaPagina = doc.internal.pageSize.getHeight();
            const x = (larguraPagina - larguraRetangulo) / 2;
            const y = (alturaPagina - alturaRetangulo) / 2;
        
            doc.rect(x, y, larguraRetangulo, alturaRetangulo);
            doc.setFontSize(10);
            const textoTitulo = "Ficha catalográfica gerada automaticamente.";
            const textoTitulo2 = "Dados informados pelo usuário.";
            const textWidth = doc.getTextWidth(textoTitulo);
            const xText = (larguraPagina - textWidth) / 2;
            doc.text(textoTitulo, xText, y - 7);
            doc.text(textoTitulo2, xText + 15, y - 2);
        
            // Definindo margens
            const margemEsquerda = 10;
            const larguraTexto = larguraRetangulo - 20;
        
            doc.setFont('courier', 'normal');
            doc.setFontSize(9);
            let linhaAtual = y + 12;
        
            // Função para adicionar texto
            function adicionarTexto(texto, y) {
                const linhas = doc.splitTextToSize(texto, larguraTexto);
                doc.text(linhas, x + margemEsquerda, y);
                return y + (linhas.length * 3.6);
            }
        
            // Listagem de orientador e coorientadores com números romanos
            const romanNumerals = ['I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX', 'X'];
            const listagemOrientadores = [`${romanNumerals[0]}. ${sobrenomeOrientador}, ${nomeOrientador}, orient.`];
        
            coorientadores.forEach((coorientador, index) => {
                listagemOrientadores.push(`${romanNumerals[index + 1]}. ${coorientador.sobrenome}, ${coorientador.nome}, coorient.`);
            });
        
            // Adicionar "titulo" com o próximo número romano
            const nextRoman = romanNumerals[coorientadores.length + 1];
            listagemOrientadores.push(`${nextRoman}. Título`);
        
            // Listagem dos assuntos com numeração (1, 2, 3...)
            const listagemAssuntos = assuntos.map((assunto, index) => `${index + 1}. ${assunto}`).join(', ');
        
            // Concatenar listagem de assuntos e orientadores/coorientadores na mesma linha
            const listagemFinal = `${listagemAssuntos}. ${listagemOrientadores.join(' ')}`;
        
            // Adicionando conteúdo ao PDF dentro do retângulo
            linhaAtual = adicionarTexto(`${sobrenomeAutor}, ${nomeAutor}`, linhaAtual);
            linhaAtual = adicionarTexto(`    ${tituloTrabalho} / ${nomeAutor} ${sobrenomeAutor}. -- ${ano}.`, linhaAtual);
            linhaAtual = adicionarTexto(`    ${numeroFolhas} f.`, linhaAtual);
            linhaAtual = adicionarTexto(`    ${tipoOrientador} ${nomeOrientador} ${sobrenomeOrientador}.`, linhaAtual);
            linhaAtual = adicionarTexto(`    ${textoCoorientadores}.`, linhaAtual); // Adicionando coorientadores
            linhaAtual = adicionarTexto(`    ${modalidadeExibicao} -- Instituto Federal de Educação, Ciência e Tecnologia, campus ${campus}, Programa de ${curso}, ${cidade}, BR-RS, ${ano}.`, linhaAtual);
        
            // Adicionando a linha final com assuntos e orientadores/coorientadores juntos
            linhaAtual = adicionarTexto(`    ${listagemFinal}`, linhaAtual);
        
            // Gerar PDF como Blob
            const pdfBlob = doc.output('blob');
            const pdfURL = URL.createObjectURL(pdfBlob);
            window.open(pdfURL, '_blank');
        }   
    </script>
</body> 
</html>